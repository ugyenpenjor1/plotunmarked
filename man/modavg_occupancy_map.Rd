% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/modavg_occupancy_map.R
\name{modavg_occupancy_map}
\alias{modavg_occupancy_map}
\title{Create and plot model-averaged occupancy prediction map}
\usage{
modavg_occupancy_map(
  d2_mod_list,
  pred_cov_stack,
  agg_factor = 4,
  plot_ci = FALSE,
  save_plot = FALSE,
  plot_filename = "occupancy_map",
  plot_format = "png"
)
}
\arguments{
\item{d2_mod_list}{A list of candidate occupancy models (usually output from \code{unmarked} or
compatible modeling functions) to be used for model-averaged prediction.}

\item{pred_cov_stack}{A \code{SpatRaster} (from the \code{terra} package) OR a \code{RasterLayer} (from the \code{raster} package) containing covariate layers
used for prediction. Must have layer names matching the covariates in the models.}

\item{agg_factor}{Integer. Factor by which to aggregate (downsample) the raster resolution to speed up
processing. Default is 4.}

\item{plot_ci}{Logical. If \code{TRUE}, 95\% confidence interval maps (lower and upper bounds) will be plotted
alongside predicted occupancy and standard error. Default is \code{FALSE}.}

\item{save_plot}{Logical. If \code{TRUE}, the generated plot will be saved to disk. Default is \code{FALSE}.}

\item{plot_filename}{Character. Filename (without extension) to save the plot. Default is \code{"occupancy_map"}.}

\item{plot_format}{Character. File format to save the plot (e.g., \code{"jpeg"}, \code{"png"}, \code{"pdf"}).
Default is \code{"png"}.}
}
\value{
A list (invisibly) containing:
\item{pred_df}{A data.frame with predicted occupancy, standard errors, confidence intervals, and coordinates.}
\item{pred_raster}{A \code{SpatRaster} of predicted occupancy values.}
\item{mod_avg_pred}{A list of numeric vectors containing model-averaged predictions and uncertainty measures.}
}
\description{
Generates a spatial map of model-averaged occupancy predictions using a list of fitted models,
prediction covariate raster layers, and optionally plots confidence intervals. The prediction raster
can be aggregated to reduce resolution, and the resulting map can be saved to a file.
}
\examples{
\dontrun{
# Assuming d2_mod_list is your list of models and pred_cov_stack is your raster stack:
result <- modavg_occupancy_map(d2_mod_list, pred_cov_stack, agg_factor = 2, plot_ci = TRUE)
}

}
