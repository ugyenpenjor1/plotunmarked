% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/auc_plot.R
\name{auc_plot}
\alias{auc_plot}
\title{ROC curve and AUC for single occupancy model}
\usage{
auc_plot(model, use_detection = TRUE, detection_history = NULL)
}
\arguments{
\item{model}{An \code{unmarkedFit} object from the \pkg{unmarked} package.}

\item{use_detection}{Logical; if \code{TRUE}, the binary presence/absence
response is based on observed detection history. If \code{FALSE}, it is
based on the model's posterior mean occupancy (EBUP).}

\item{detection_history}{Optional matrix of detection/non-detection data
(1 = detection, 0 = no detection, NA = missing). Required if
\code{use_detection = TRUE}.}
}
\value{
A list with the following elements:
\describe{
\item{\code{roc}}{An object of class \code{roc} from \pkg{pROC} containing ROC data.}
\item{\code{auc}}{The AUC value.}
\item{\code{auc_ci}}{The 90\\% confidence interval for AUC.}
\item{\code{y_true}}{Binary observed occupancy (used as response).}
\item{\code{predicted}}{Predicted occupancy probabilities.}
\item{\code{plot}}{A \code{ggplot2} ROC curve plot.}
}
}
\description{
Computes and visualises the Receiver Operating Characteristic (ROC) curve
and Area Under the Curve (AUC) for a single fitted occupancy model from
the \pkg{unmarked} package.
}
\details{
The function calculates predicted occupancy probabilities from
\code{model}, compares them to either observed presence/absence
(via \code{detection_history}) or to the model's posterior mean estimates,
and computes AUC statistics using \pkg{pROC}. The ROC curve is then
visualized using \pkg{ggplot2}.
}
\examples{
\dontrun{
# Assuming 'fitted_model' is an unmarked occupancy model
# and 'y_mat' is the detection matrix:
result <- auc_single(fitted_model, use_detection = TRUE, detection_history = y_mat)
print(result$plot)
result$auc
}

}
